#include <bits/stdc++.h>
using namespace std;
#define ll long long

int main() {
    int t;
    cin >> t;
    while (t--) {
        map <char, int> mp = { {'A', 0}, {'B', 0}, {'C', 0} };
        // storing keys as A,B,C & val as their count
        
        for (int i = 0; i < 9; i ++) {
            char c;
            cin >> c;
            if (c != '?')   // excluding '?' in count
                mp[c] ++;
        }
        for (auto it : mp) {
            if (it.second < 3)      
                cout << it.first << "\n";
        }   // missing char only appears twice
    }
    return 0;
}